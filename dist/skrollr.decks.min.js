/**
 * skrollr-decks 0.1.4 (2014-10-07) - Makes fullpage presentation decks.
 * Bogdan Chadkin - https://github.com/TrySound/skrollr-decks
 * Free to use under terms of MIT license
 */

!function(a,b){"use strict";function c(b){var c,d=a.innerHeight+2+"px";for(c=b.length;c--;)b[c].style.minHeight=d}function d(d){var e=b.getElementsByClassName(d);return c.call(a,e),a.addEventListener("resize",c.bind(a,e),!1),e}function e(a){var c=m.get();void 0!==c&&a.addEventListener("click",function(a){var d,e,f,g=a.target;"A"===g.tagName&&"#"===g.getAttribute("href").charAt(0)&&(d=g.getAttribute("href").substr(1),e=b.getElementById(d),void 0!==e&&(f=c.relativeToAbsolute(e,"top","top"),c.animateTo(f+1,{duration:600,done:function(){var a=this;n(function(){a.stopAnimateTo()},20)}}))),a.preventDefault()},!1)}function f(a,c){var d,e,f,g=b.createElement("ul"),h=b.createElement("li");for(g.className=c,g.style.display="none",h.setAttribute("data-top-bottom",""),h.setAttribute("data-bottom-top",""),e=0,f=a.length;f>e;e++)d=h.cloneNode(),d.setAttribute("data-anchor-target","#"+a[e].id),g.appendChild(d);return b.body.appendChild(g),g}function g(a,b){var c,d,e,f,g;if("UL"===b.tagName)c=b;else{if(b=b.getElementsByTagName("ul"),!(b.length>0&&"UL"===b[0].tagName))return!1;c=b[0]}if(g=c.getElementsByTagName("li"),a.length!==g.length)return!1;for(d=0,e=a.length;e>d;d++)f=g[d],f.hasAttribute("data-top-bottom")||f.setAttribute("data-top-bottom",""),f.hasAttribute("data-bottom-top")||f.setAttribute("data-bottom-top",""),f.setAttribute("data-anchor-target","#"+a[d].id);return c}function h(a,c){var d=b.getElementsByClassName(c);return d.length>0?(d=g(a,d[0]),d===!1?d=f(a,c):e(d)):d=f(a,c),d}function i(a,b,c){var d=a.getElementsByClassName(b);return d[c?0:d.length-1]}function j(a,b){var c,d;for(d=a.length;d--;)if(c=a[d],c.id===b)return c}function k(a,b,c,d){var e,f,g;e=i(d,"skrollable-between",b),e&&(f=j(c,e.getAttribute("data-anchor-target").substr(1)),g=a.relativeToAbsolute(f,"top","top")),a.isAnimatingTo()||g===l||a.animateTo(g+1,{duration:300,done:function(){var a=this;n(function(){a.stopAnimateTo()},20)}}),l=g}var l,m=a.skrollr,n=a.setTimeout,o=a.clearTimeout,p="skrollr-decks-segment",q="skrollr-decks-nav";m.decks={init:function(a){a=a||{};var b,c=m.init({forceHeight:!1}),e=d(a.segment||p),f=h(e,a.nav||q);c.refresh(),c.on("render",function(a){var c=this;o(b),b=n(function(){k(c,"up"===a.direction,e,f)},20)})}}}(window,document);