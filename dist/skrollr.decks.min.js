/*!
 * skrollr-decks 1.0.6
 * Fullpage presentation decks with scrolling
 * https://github.com/TrySound/skrollr-decks
 * 
 * Released under the MIT license
 * Copyright (c) 2015, Bogdan Chadkin <trysound@yandex.ru>
 */
!function(t){"use strict";window.skrollr?window.skrollr.decks=t(window,document,window.skrollr):console.error("`skrollr` not found")}(function(t,e,n){"use strict";function o(t,e){(t=t.toLowerCase())in h&&"function"==typeof e&&h[t].unshift(e)}function r(t,e){var n,o=h[t];for(n=o.length-1;n>-1;n--)o[n].apply({},e)}function i(o){if(p)return!1;p=!0;var i,a,f,h,y=t.setTimeout,v=t.clearTimeout;h=c={},o="object"==typeof o?o:{};for(i in g)g.hasOwnProperty(i)&&(c[i]=o[i]||g[i]);a=n.init({forceHeight:!1}),b=s(h.decks,k),m=u(k),l(),e.body.appendChild(m),a.refresh(m.children),a.on("render",function(t){var e=this,n=d.call(e,t);v(f),void 0!==n&&h.autoscroll&&(f=y(function(){e.animateTo(n,h)},h.delay)),r("render",[t])})}function a(t,e){var o,r,i,a=b[t],l=n.get();return l&&(l.stopAnimateTo(),a||(r=m.getElementsByClassName("skrollable-between"),1===r.length&&(i=Number(r[0].getAttribute("data-skrollr-decks-index")),a=k["up"===t?i-1:"down"===t?i+1:-1]),2===r.length&&(r=r["up"===t?0:"down"===t?1:-1],a=r?b[r.getAttribute("data-anchor-target")]:null)),a)?(o=l.relativeToAbsolute(a,"top","top")+1,e?l.setScrollTop(o,!0):l.animateTo(o,c),!0):!1}function l(){if(p){var e,n,o,r=t.innerHeight+2;for(o=k.length-1;o>-1;o--)e=k[o],e.style.height="auto",n=e.offsetHeight,e.style.height=(r>n?r:n)+"px";e.offsetHeight}}function d(e){if(p){var o,i,a,l,d,s,u=n.get(),g=m.getElementsByClassName("skrollable-between"),h=e.curTop,k=t.innerHeight,y=k*c.offset/100;return 1===g.length&&(o=b[g[0].getAttribute("data-anchor-target")],f!==o&&r("change",[o]),f=o),2===g.length?(i=b[g[0].getAttribute("data-anchor-target")],a=b[g[1].getAttribute("data-anchor-target")],d=u.relativeToAbsolute(i,"top","bottom"),l=u.relativeToAbsolute(a,"top","top"),"up"===e.direction&&d-y>h||l+y>h+k?(o=i,s=d-k-1):(o=a,s=l+1),f!==o&&r("change",[o]),f=o,s):void 0}}function s(t,n){{var o,r,i={};+new Date}if("string"==typeof t)for(t=e.querySelectorAll(t),r=t.length-1;r>-1;r--)o=t[r],n.unshift(o),o.id=o.id?o.id:"skroll-deck-id-"+r,i["#"+o.id]=o;return i}function u(t){var n,o,r,i=e.createElement("ul"),a=e.createElement("li");for(i.style.display="none",a.setAttribute("data-top-bottom",""),a.setAttribute("data-bottom-top",""),n=0,o=t.length;o>n;n++)r=a.cloneNode(),r.setAttribute("data-skrollr-decks-index",n),r.setAttribute("data-anchor-target","#"+t[n].id),i.appendChild(r);return i}var c,f,g={decks:".skrollr-deck",offset:15,duration:600,easing:"quadratic",delay:500,autoscroll:!0},h={render:[],change:[]},p=!1,b={},k=[],m=e.createElement("ul");return n.addEvent(e,"keydown",function(t){var e=n.get(),o=[38,40,33,34,36,35];o.indexOf(t.keyCode)>-1&&e&&e.isAnimatingTo()&&e.stopAnimateTo()}),n.addEvent(e,"DOMContentLoaded",function(){e.querySelector("body.skrollr-decks-init")&&i()}),n.addEvent(t,"load resize",function(){l({}),d({})}),{init:i,animateTo:a,refresh:l,on:o}});